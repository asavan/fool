(()=>{"use strict";var e,n,t={392:(e,n,t)=>{function r(e){e&&e.classList.add("hidden")}function a(e){e&&e.classList.remove("hidden")}function o(e){e&&e.remove()}function c(e,n,t){e.logger&&(t.innerHTML+="object"==typeof n?(JSON&&JSON.stringify?JSON.stringify(n):n)+"<br />":n+"<br />")}function l(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function i(e,n,t){const r=e.location.search,a=new URLSearchParams(r);for(const[e,n]of a)"number"==typeof t[e]?t[e]=parseInt(n,10):"boolean"==typeof t[e]?t[e]=l(n):t[e]=n}t.d(n,{Bk:()=>i,N8:()=>r,cM:()=>c,ew:()=>o,gw:()=>s,hu:()=>d,oX:()=>a});const s=e=>new Promise((n=>setTimeout(n,e)));function d(e,n){if(!e)throw n}}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((n,t)=>(a.f[t](e,n),n)),[])),a.u=e=>e+"."+{749:"10295f5ee7e0dd6dc65a",945:"e13f434a11430278253c",970:"ea0459bcabaca8a6a07c"}[e]+".js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),e={},n="fool:",a.l=(t,r,o,c)=>{if(e[t])e[t].push(r);else{var l,i;if(void 0!==o)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var u=s[d];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==n+o){l=u;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",n+o),l.src=t),e[t]=[r];var f=(n,r)=>{l.onerror=l.onload=null,clearTimeout(p);var a=e[t];if(delete e[t],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(r))),n)return n(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),i&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var n=a.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var r=t.length-1;r>-1&&!e;)e=t[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={179:0};a.f.j=(n,t)=>{var r=a.o(e,n)?e[n]:void 0;if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(((t,a)=>r=e[n]=[t,a]));t.push(r[2]=o);var c=a.p+a.u(n),l=new Error;a.l(c,(t=>{if(a.o(e,n)&&(0!==(r=e[n])&&(e[n]=void 0),r)){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+n+" failed.\n("+o+": "+c+")",l.name="ChunkLoadError",l.type=o,l.request=c,r[1](l)}}),"chunk-"+n,n)}};var n=(n,t)=>{var r,o,[c,l,i]=t,s=0;if(c.some((n=>0!==e[n]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)i(a)}for(n&&n(t);s<c.length;s++)o=c[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},t=self.webpackChunkfool=self.webpackChunkfool||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),(()=>{const e={modes:["net","ai","server"],mode:"net",wsPort:8088,logger:!0,networkDebug:!1,cardsDeal:7,maxScore:500,showAll:!1,show:!0,externalId:"server",colorOrder:["red","yellow","green","blue","black"],sortByColor:"asc"};function n(e,n,t,r){const a=n.querySelector(".name-form-cont");if(a.childElementCount>0)return;const o=n.querySelector("#nameform").content.cloneNode(!0).firstElementChild;a.replaceChildren(o);const c=n.querySelector(".nameform"),l=n.querySelector(".nameinput"),i=n.querySelector(".container");let s=e.sessionStorage.getItem("username");function d(e){r.username(e),c.classList.add("hidden"),i.classList.remove("hidden"),a.replaceChildren()}"net"==t.mode&&i.classList.add("hidden"),s&&d(s),c.addEventListener("submit",(function(n){n.preventDefault(),e.sessionStorage.setItem("username",l.value),d(l.value)}))}function t(e,n,t,r,a){const o=n.querySelector(".places");o.replaceChildren();const c=n.createElement("ul");c.classList.add("circle-wrapper"),o.appendChild(c);const l=360/a.length;let i=90,s=null;c.addEventListener("click",(function(e){if(e.preventDefault(),e.target&&null!==e.target.dataset.id){if(s)return s.classList.remove("selected"),r.swap(s.dataset.id,e.target.dataset.id),void(s=null);s=e.target,s.classList.add("selected")}}));for(let e=0;e<a.length;++e){if(null==a[e]){i+=l;continue}const t=n.createElement("li");t.innerText=a[e].name,t.dataset.id=e,t.dataset.angle=i+"deg",t.style.setProperty("--angle-deg",i+"deg"),t.classList.add("circle","clickable"),i+=l,c.appendChild(t)}const d=n.createElement("button");d.classList.add("start-button","clickable"),d.addEventListener("click",(function(e){e.preventDefault(),o.replaceChildren(),r.onSeatsFinished()})),o.appendChild(d)}var r=a(392);function o(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1)),r=e[n];e[n]=e[t],e[t]=r}}function c(e,n){let t=e;return{deal:function(){return t.pop()},addCardAndShuffle:async function(e){!function(e){t.push(e)}(e),o(t),await n.shuffle(t)},setDeck:function(e){t=e},checkTop:function(e){const n=t.at(-1)===e;return n}}}const l={newShuffledDeck:async function(e){let n=function(){const e=[...Array(112).keys()];return e.splice(56,1),e.splice(69,1),e.splice(82,1),e.splice(95,1),e}();return o(n),await e.shuffle(n),c(n,e)},newExternalDeck:c};const i={newPlayer:function(e,n,t){const r=e,a=n,o=[];let c=0;return{getName:()=>r,addCard:e=>{o.push(e)},pile:()=>[...o],getIndex:()=>a,cleanHand:async()=>{o.length=0,await t.clearPlayer(a)},removeCard:e=>{const n=o.indexOf(e);return n<0||o.splice(n,1),n},updateScore:e=>{c+=e},getScore:()=>c,setScore:e=>{c=e}}}};function s(e){}function d(e){}const u={shuffle:d,deal:d,draw:d,discard:d,move:d,clearPlayer:d,ready:d,changeCurrent:d,changeDealer:d,gameover:d,roundover:d,pass:s,drawExternal:s,moveExternal:s,chooseColor:P};let f=7,p=500,w=0,y=1,h=[],g=null,m=!0,v=null,C=[],b=null,S=null,x=0,E=0,k=!1;function P(){return S}function D(){return y}function L(e,n){return(e+y+n)%n}function I(e,n){return(w+(e+1)*y+n)%n}function T(){return v}const N=["red","yellow","green","blue"];function q(e){let n;if(e%14==13)return"black";switch(Math.floor(e/14)){case 0:case 4:n="red";break;case 1:case 5:n="yellow";break;case 2:case 6:n="green";break;case 3:case 7:n="blue"}return n}function O(e){switch(e%14){case 10:return"Skip";case 11:return"Reverse";case 12:return"Draw2";case 13:return Math.floor(e/14)>=4?"Draw4":"Wild";default:return"Number "+e%14}}function A(e){let n;switch(e%14){case 10:case 11:case 12:n=20;break;case 13:n=50;break;default:n=e%14}return n}function M(e){const n=h.length;h.push(i.newPlayer(e,n,u))}async function B(e,n,t){const r=e.deal();return h[n].addCard(r),t?await u.drawExternal({playerIndex:n,card:r}):await u.draw({playerIndex:n,card:r}),r}async function j(e,n){if(!g.checkTop(n))return;await B(g,e,!0);return x++,!0}async function H(e){if(e!==b)return;if(k)return!1;if(x>0)return;x++;return await B(g,b)}async function R(e){if(e===b){if(k)return!1;if(0!=x)return await ce(),await u.pass({playerIndex:e}),!0}}async function W(e,n,t){const r=await async function(e,n,t){const r=await async function(e,n,t){if(e!==b)return!1;if(!ee(e,n))return!1;if(k)return!1;if(E>0)return!1;if("Wild"===O(n)){const e=t;return!!N.includes(t)&&(S=e,!0)}if("Draw4"===O(n)){if(Z(e,S))return!1;const n=t;return!!N.includes(n)&&(S=n,!0)}if(q(n)==S)return!0;if(O(n)==O(v))return!0;return!1}(e,n,t);if(r){h[e].removeCard(n);v=n,C.push(n);const t=q(n);"black"!=t&&(S=t),++E,await u.moveExternal({playerIndex:e,card:n,currentColor:S}),m&&(await V(n,b),await re(e))}return r}(e,n,t);return r}async function _(e){if(!g.checkTop(e))return;g.deal();v=e,await u.discard(e);const n=q(e);"black"!==n&&(C.push(e),S=n)}function F(e,n){u[e]=n}function J(){return{[Symbol.iterator](){let e=0;return{next:()=>e>=h.length?{done:!0,value:e}:{done:!1,value:h[e++]},return:()=>({done:!0})}}}}function z(){return h.length}function G(){return w}function $(){return b}async function U(){g=await l.newShuffledDeck(u);let e=[...h];for(;e.length>1;){const n=e.length;let t=new Array(n),r=0;for(let a=0;a<n;a++){const o=I(a,n),c=A(await B(g,e[o].getIndex()));t[o]=c,r=Math.max(r,c)}const a=[];for(let o=0;o<n;o++)t[o]===r&&a.push(e[o]);e=a}e.length>=1&&(w=e[0].getIndex()),b=w,await u.changeCurrent({currentPlayer:b,dealer:w,direction:y})}async function X(){v=null,C=[];for(const e of h)await e.cleanHand();g=await l.newShuffledDeck(u)}async function K(e){v=null,C=[],h[e].cleanHand()}function Q(){return b=L(b,h.length),ce()}async function V(e,n){const t=O(e),r=q(e);if("black"!=r&&(S=r),"Reverse"!==t)if("Skip"!==t)if("Draw2"!==t)if("Draw4"!==t)await ce();else{for(let e=0;e<4;++e)await B(g,L(b,h.length));await Q()}else{for(let e=0;e<2;++e)await B(g,L(b,h.length));await Q()}else await Q();else 2===h.length?await Q():await(y*=-1,ce())}async function Y(){await X();for(let e=0;e<f;++e){const e=h.length;for(let n=0;n<e;n++){const t=I(n,e);await B(g,h[t].getIndex())}}const e=await async function(e){let n=e.deal();for(v=n,await u.discard(n);"black"===q(n);)v=null,await e.addCardAndShuffle(n),n=e.deal(),v=n,await u.discard(n);return C.push(n),n}(g);await V(e)}function Z(e,n){return h[e].pile().find((e=>q(e)===n))}function ee(e,n){return h[e].pile().includes(n)}async function ne(e,n){if(e!==b)return!1;if(!ee(e,n))return!1;if(k)return!1;if(E>0)return!1;if("Wild"===O(n)){const n=await u.chooseColor(e);return!!N.includes(n)&&(S=n,!0)}if("Draw4"===O(n)){if(Z(e,S))return!1;const n=await u.chooseColor(e);return!!N.includes(n)&&(S=n,!0)}return q(n)==S||O(n)==O(v)}async function te(e,n){const t=await ne(e,n);if(t){h[e].removeCard(n);v=n,C.push(n);const t=q(n);"black"!=t&&(S=t),++E,await u.move({playerIndex:e,card:n,currentColor:S}),m&&(await V(n),await re(e))}return t}async function re(e){const n=h[e];if(0===n.pile().length){k=!0;const t=function(){let e=0;const n=J();for(const t of n)for(const n of t.pile())e+=A(n);return e}();n.updateScore(t),n.getScore()>p?await u.gameover({playerIndex:e,score:n.getScore(),diff:t}):await u.roundover({playerIndex:e,score:n.getScore(),diff:t})}}async function ae(e){const n=h[e.playerIndex],t=n.getScore();x=0,E=0,k=!1,e.score==t+e.diff&&n.setScore(e.score)}function oe(e){return e==b&&ce()}async function ce(){return b=L(b,h.length),x=0,E=0,await u.changeCurrent({currentPlayer:b,dealer:w,direction:y}),!0}async function le(){return y=1,w=L(w,h.length),b=w,k=!1,x=0,E=0,await u.changeCurrent({currentPlayer:b,dealer:w,direction:y})}async function ie(){if(k)return!1;x>0?await ce():(x++,await B(g,b))}async function se(e){m=!1,null==g?g=l.newExternalDeck(e,u):g.setDeck(e)}function de(e,n,t){x=0,E=0,null!=n&&(w=n,k=!1),null!=t&&(y=t),b=e}function ue(){return{currentPlayer:b,dealer:w,currentColor:S,cardOnBoard:v,color:q(v),type:O(v)}}function fe(e,n,t){e.sort(((e,r)=>{const a=q(e),o=q(r);if(a==o)return"asc"===n?A(e)-A(r):A(r)-A(e);for(const e of t){if(e==a)return"asc"===n?-1:1;if(e==o)return"asc"===n?1:-1}}))}function pe(e){return e.cardsDeal&&(f=e.cardsDeal),e.maxScore&&(p=e.maxScore),{chooseDealer:U,deal:Y,getPlayerIterator:J,addPlayer:M,size:z,on:F,cardScore:A,cardColor:q,cardType:O,getDealer:G,getCurrentPlayer:$,getCardOnBoard:T,tryMove:ne,moveToDiscard:te,drawCurrent:ie,setDeck:se,onDraw:j,onMove:W,onDiscard:_,setCurrent:de,cleanAllHands:X,cleanHand:K,nextDealer:le,onDrawPlayer:H,pass:R,getCurrentColor:P,getDirection:D,state:ue,onNewRound:ae,onPass:oe,sortByTemplate:fe}}const we=["red","yellow","green","blue"];function ye(e,n,t){return t.on("chooseColor",(()=>function(e){return new Promise(((n,t)=>{const r=e.querySelector(".color-picker-holder");r.replaceChildren();const a=e.createElement("ul");a.classList.add("color-grid"),r.appendChild(a);for(const t of we){const o=e.createElement("li");o.classList.add(t),o.addEventListener("click",(e=>{e.preventDefault(),r.replaceChildren(),n(t)})),a.appendChild(o)}}))}(n))),{}}function he(e,n){const t=n.content.cloneNode(!0).firstElementChild;return t.style.setProperty("--sprite-x",1400-e%14*100+"%"),t.style.setProperty("--sprite-y",800-100*Math.floor(e/14)+"%"),t.dataset.card=e,t}function ge(e,n,t,r,a){const o=e.createElement("ul"),c=e.querySelector("#card");o.classList.add("hand"),a&&a.sortByColor&&r.sortByTemplate(t,a.sortByColor,a.colorOrder);for(const e of t)o.appendChild(he(e,c));n.appendChild(o)}function me(e,n,t,r,a,o){const c=n.querySelector(".places");let l=c.querySelector(".center-pile");l?l.replaceChildren():(l=n.createElement("div"),l.classList.add("center-pile"),c.appendChild(l)),null!==t&&function(e,n,t,r,a,o){const c=e.createElement("ul"),l=e.querySelector("#card");c.classList.add("hand"),c.appendChild(he(t,l));const i=e.querySelector("#back").content.cloneNode(!0).firstElementChild;c.appendChild(i),i.addEventListener("click",(async e=>{e.preventDefault(),"ai"===a?await r.drawCurrent():null==await r.onDrawPlayer(o)&&await r.pass(o)})),n.appendChild(c)}(n,l,t,r,a,o)}function ve(e,n,t,r,a){const o=n.documentElement;o.style.setProperty("--card-width","50px"),o.style.setProperty("--current-color",function(e){const n={green:"rgba(85, 170, 85, 0.4)",red:"rgba(255, 85, 85, 0.4)",yellow:"rgba(255, 170, 0, 0.4)",blue:"rgba(85, 85, 255, 0.4)"}[e];return null!=n?n:"aliceblue"}(t.getCurrentColor()));const c=n.querySelector(".places");c.replaceChildren();const l=n.createElement("ul");l.classList.add("circle-wrapper"),c.appendChild(l);const i=360/t.size(),s=t.getPlayerIterator();let d=0;const u=t.getDealer(),f=t.getCurrentPlayer();let p=null;for(const e of s){if(d===r){p=e,++d;continue}const t=90+i*(d-r),a=n.createElement("li"),o=n.createElement("div");o.innerText=e.getName(),a.appendChild(o);const c=n.createElement("div");c.innerText=e.pile().length,a.appendChild(c);const s=e.getScore();if(s>0){const e=n.createElement("div");e.innerText=s,a.appendChild(e)}a.dataset.id=d,a.dataset.angle=t+"deg",a.style.setProperty("--angle-deg",t+"deg"),a.classList.add("circle","player-name"),u===d&&a.classList.add("dealer"),f===d&&a.classList.add("current-player"),++d,l.appendChild(a)}me(0,n,t.getCardOnBoard(),t,"net",r),function(e,n,t,r,a,o,c){const l=n.createElement("div");l.classList.add("my-hand");const i=n.createElement("div");i.classList.add("row");const s=n.createElement("span");s.innerText=a.getName(),i.appendChild(s);const d=a.getScore();if(d>0){const e=n.createElement("span");e.innerText=d,i.appendChild(e)}const u=n.createElement("span"),f=n.createElement("img");f.src="./images/reload.svg",t.getDirection()>0&&f.classList.add("mirror"),u.appendChild(f),i.appendChild(u),l.appendChild(i),l.dataset.id=r,l.classList.add("player-name");const p=t.getDealer(),w=t.getCurrentPlayer();p===r&&l.classList.add("dealer"),w===r&&l.classList.add("current-player"),ge(n,l,a.pile(),t,c),l.addEventListener("click",(async e=>{e.preventDefault();const n=e.target.parentElement;if(n&&n.classList.contains("card")){const e=parseInt(n.dataset.card);await t.moveToDiscard(r,e)}})),o.appendChild(l)}(0,n,t,r,p,c,a)}const Ce={drawCenter:me,drawPlayers:function(e,n,t,r,a){a.show?function(e,n,t,r,a){const o=n.querySelector(".places");o.replaceChildren();const c=n.createElement("ul");c.classList.add("circle-wrapper"),o.appendChild(c);const l=360/t.size(),i=t.getPlayerIterator();let s=0;const d=t.getDealer(),u=t.getCurrentPlayer();for(const e of i){const o=90+l*(s-r),i=n.createElement("li"),f=n.createElement("span");f.innerText=e.getName(),i.appendChild(f);const p=e.getScore();if(p>0){const e=n.createElement("span");e.innerText=p,i.appendChild(e)}ge(n,i,e.pile(),t,a),i.dataset.id=s,i.dataset.angle=o+"deg",i.style.setProperty("--angle-deg",o+"deg"),i.classList.add("circle","player-name"),d===s&&i.classList.add("dealer"),u===s&&i.classList.add("current-player"),c.appendChild(i),++s}me(0,n,t.getCardOnBoard(),t,"ai",r),c.addEventListener("click",(async e=>{e.preventDefault();const n=e.target.parentElement;if(n&&n.classList.contains("card")){const e=n.parentElement.parentElement,r=parseInt(n.dataset.card),a=parseInt(e.dataset.id);await t.moveToDiscard(a,r)}}))}(0,n,t,r,a):ve(0,n,t,r,a)},drawLayout:ve};function be(e,n,t,a,o){const c=pe(t);let l=0,i=0;function s(){Ce.drawPlayers(e,n,c,i,t)}for(const e of a)c.addPlayer(e.name),e.external_id==t.externalId&&(i=l),++l;n.querySelector(".hand-cont");return c.on("draw",(async({playerIndex:e,card:n})=>{s(),await(0,r.gw)(30),e!==i&&"server"!==t.mode||await o.draw({playerIndex:e,card:n})})),c.on("drawExternal",(async({playerIndex:e,card:n})=>{s(),await(0,r.gw)(30),"server"===t.mode&&await o.draw({playerIndex:e,card:n})})),c.on("changeCurrent",(async({currentPlayer:a,dealer:l,direction:s})=>{Ce.drawPlayers(e,n,c,i,t),await(0,r.gw)(30),"server"===t.mode&&await o.changeCurrent({currentPlayer:a,dealer:l,myIndex:i,direction:s})})),c.on("pass",(async({playerIndex:e})=>{await o.pass({playerIndex:e,myIndex:i})})),c.on("move",(async a=>{Ce.drawPlayers(e,n,c,i,t),await(0,r.gw)(30),a.playerIndex!==i&&"server"!==t.mode||await o.move(a)})),c.on("moveExternal",(async a=>{Ce.drawPlayers(e,n,c,i,t),await(0,r.gw)(30),"server"===t.mode&&await o.move(a)})),c.on("discard",(async e=>{s(),await(0,r.gw)(30),await o.discard(e)})),c.on("shuffle",(async e=>{s(),await(0,r.gw)(300),await o.shuffle(e)})),c.on("deal",(()=>{})),c.on("gameover",(async e=>{s(),await o.gameover(e)})),c.on("clearPlayer",(async e=>{await o.clearPlayer(e)})),ye(0,n,c),c.on("roundover",(async e=>{"net"!==t.mode?(await o.roundover(e),await(0,r.gw)(200),await c.cleanAllHands(),await(0,r.gw)(300),await c.nextDealer(),await c.deal()):s()})),{start:async function(){await c.chooseDealer(),await(0,r.gw)(1e3),t.showAll?t.show=!0:t.show=!1,await c.deal()},onShuffle:async function(r){await c.setDeck(r),Ce.drawPlayers(e,n,c,i,t)},onDraw:function(e,n){return c.onDraw(e,n)},onDiscard:function(e){return c.onDiscard(e)},onChangeCurrent:async function(e){c.getCurrentPlayer()!==e.myIndex&&"server"==t.mode||(t.showAll?t.show=!0:t.show=!1,c.setCurrent(e.currentPlayer,e.dealer,e.direction),s())},onClearHand:async function(e){await c.cleanHand(e),s()},onMove:function(e){return c.onMove(e.playerIndex,e.card,e.currentColor)},onNewRound:async function(e){const n=await c.onNewRound(e);return s(),n},onGameOver:async function(e){const n=await c.onNewRound(e);return s(),n},cardToString:function(e){return c.cardColor(e)+" "+c.cardType(e)},onPass:function(e){return c.onPass(e.playerIndex)}}}function Se(e){}function xe(e){}const Ee={move:Se,moveExternal:Se,drawExternal:Se,gameover:Se,username:Se,start:xe,swap:xe,pass:xe,"uno-start":xe,shuffle:xe,draw:xe,discard:xe,chooseColor:xe,clearPlayer:Se,changeCurrent:Se,roundover:Se};function ke(e,r,a){let o=null,c=[];function l(e,n){Ee[e]=n}const i=()=>{const e=r.querySelector(".qrcode");e&&(e.innerHTML=""),Ee.start(c)},s=r.querySelector(".start");s&&s.addEventListener("click",i),n(e,r,a,Ee);const d=async()=>{i(),o=be(e,r,a,c,Ee),await o.start()};l("onSeatsFinished",d);return{on:l,onChange:function(e){if(null!=o)return o.onMove(e)},join:(e,n,a)=>(c[e]={name:n,external_id:a},t(0,r,0,Ee,c),!0),start:i,onConnect:()=>{n(e,r,a,Ee)},swap:(e,n)=>{const a=c[e];c[e]=c[n],c[n]=a,t(0,r,0,Ee,c)},onStart:n=>{c=n,o=be(e,r,a,c,Ee);r.getElementsByClassName("places")[0].removeAttribute("style")},afterAllJoined:d,onShuffle:e=>{if(null!=o)return o.onShuffle(e)},onDraw:(e,n)=>{if(null!=o)return o.onDraw(e,n)},onDiscard:e=>{if(null!=o)return o.onDiscard(e)},onNewRound:e=>{if(null!=o)return o.onNewRound(e)},onChangeCurrent:e=>{if(null!=o)return o.onChangeCurrent(e)},onClearHand:e=>{if(null!=o)return o.onClearHand(e)},onGameOver:e=>{if(null!=o)return o.onGameOver(e)},disconnect:e=>{const n=c.length;c=c.filter((n=>n.external_id!=e));const a=c.length;return t(0,r,0,Ee,c),n>a},cardToString:e=>{if(null!=o)return o.cardToString(e)},onPass:e=>{if(null!=o)return o.onPass(e)}}}"serviceWorker"in navigator&&(navigator.serviceWorker.register("./sw.js",{scope:"./"}),function(e,n){const t=n.querySelector(".butInstall");let a;t.addEventListener("click",(e=>{e.preventDefault(),(0,r.N8)(t),a.prompt(),a.userChoice.then((e=>{}))})),e.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),a=e,(0,r.oX)(t)}))}(window,document)),function(n,t){(0,r.Bk)(n,t,e),"net"===e.mode?a.e(970).then(a.bind(a,970)).then((r=>{r.default(n,t,e,ke)})):"server"===e.mode?a.e(749).then(a.bind(a,749)).then((r=>{r.default(n,t,e,ke)})):"ai"===e.mode?a.e(945).then(a.bind(a,945)).then((r=>{r.default(n,t,e,ke)})):(0,r.hu)(!1,"Unsupported mode")}(window,document)})()})();